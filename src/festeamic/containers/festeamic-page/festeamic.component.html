<default-page>
    <main>
        <section id="festeamic" >
            <h1>HAZTE AMIGO</h1>
            <p>
                Por solo 1 € al mes puedes ayudarnos a llevar a cabo los proyectos en los que estamos trabajamos en África.
            </p>
            <br>
            <strong>Formulario para darse de alta como Amigo de Camins:</strong>
            <div class="row col-xxs-12">
                <form [formGroup]="festeAmicForm" (ngSubmit)="onSubmit(festeAmicForm.value)">
                    <div class="form-inline row">
                        <div class="form-group col-sm-6" [ngClass]="{
                            'has-danger':!festeAmicForm.controls['nom'].valid && festeAmicForm.controls['nom'].touched,
                            'has-success': festeAmicForm.controls['nom'].touched && festeAmicForm.controls['nom'].valid
                        }">
                            <input formControlName="nom" type="text" class="form-control" id="nom" placeholder="Nombre"
                            [ngClass]="{'form-control-success': festeAmicForm.controls['nom'].touched && festeAmicForm.controls['nom'].valid,
                            'form-control-danger': festeAmicForm.controls['nom'].touched && !festeAmicForm.controls['nom'].valid}">
                        </div>
                        <div class="form-group col-sm-6" [ngClass]="{
                            'has-danger':!festeAmicForm.controls['dni'].valid && festeAmicForm.controls['dni'].touched,
                            'has-success': festeAmicForm.controls['dni'].touched && festeAmicForm.controls['dni'].valid
                        }">
                            <input formControlName="dni" type="text" class="form-control" id="dni" placeholder="Dni"
                            [ngClass]="{'form-control-success': festeAmicForm.controls['dni'].touched && festeAmicForm.controls['dni'].valid,
                            'form-control-danger': festeAmicForm.controls['dni'].touched && !festeAmicForm.controls['dni'].valid}">
                        </div>
                    </div>
                    <div class="form-inline row">
                        <div class="form-group col-sm-6" [ngClass]="{
                            'has-danger':!festeAmicForm.controls['email'].valid && festeAmicForm.controls['email'].touched,
                            'has-success': festeAmicForm.controls['email'].touched && festeAmicForm.controls['email'].valid
                        }">
                            <input formControlName="email" type="email" class="form-control" id="email" placeholder="Correo electrónico" pattern="^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$"
                            [ngClass]="{'form-control-success': festeAmicForm.controls['email'].touched && festeAmicForm.controls['email'].valid,
                            'form-control-danger': festeAmicForm.controls['email'].touched && !festeAmicForm.controls['email'].valid}">
                            <div class="form-control-feedback" *ngIf="!festeAmicForm.controls['email'].valid && festeAmicForm.controls['email'].touched">Este correo no es valido, porfavor revise sus datos.</div>
                        </div>
                        <div class="form-group col-sm-6" [ngClass]="{
                            'has-danger':!festeAmicForm.controls['direccio'].valid && festeAmicForm.controls['direccio'].touched,
                            'has-success': festeAmicForm.controls['direccio'].touched && festeAmicForm.controls['direccio'].valid
                        }">
                            <input formControlName="direccio" type="text" class="form-control" id="direccio" placeholder="Dirección"
                            [ngClass]="{'form-control-success': festeAmicForm.controls['direccio'].touched && festeAmicForm.controls['direccio'].valid,
                            'form-control-danger': festeAmicForm.controls['direccio'].touched && !festeAmicForm.controls['direccio'].valid}">
                        </div>
                    </div>
                    <div class="form-inline row">
                        <div class="form-group col-sm-4" [ngClass]="{
                            'has-danger':!festeAmicForm.controls['cp'].valid && festeAmicForm.controls['cp'].touched,
                            'has-success': festeAmicForm.controls['cp'].touched && festeAmicForm.controls['cp'].valid
                        }">
                            <input formControlName="cp" type="text" class="form-control" id="cp" placeholder="C.P."
                            [ngClass]="{'form-control-success': festeAmicForm.controls['cp'].touched && festeAmicForm.controls['cp'].valid,
                            'form-control-danger': festeAmicForm.controls['cp'].touched && !festeAmicForm.controls['cp'].valid}">
                        </div>
                        <div class="form-group col-sm-4" [ngClass]="{
                            'has-danger':!festeAmicForm.controls['poblacio'].valid && festeAmicForm.controls['poblacio'].touched,
                            'has-success': festeAmicForm.controls['poblacio'].touched && festeAmicForm.controls['poblacio'].valid
                        }">
                            <input formControlName="poblacio" type="text" class="form-control" id="poblacio" placeholder="Población"
                            [ngClass]="{'form-control-success': festeAmicForm.controls['poblacio'].touched && festeAmicForm.controls['poblacio'].valid,
                            'form-control-danger': festeAmicForm.controls['poblacio'].touched && !festeAmicForm.controls['poblacio'].valid}">
                        </div>
                        <div class="form-group col-sm-4" [ngClass]="{
                            'has-danger':!festeAmicForm.controls['provincia'].valid && festeAmicForm.controls['provincia'].touched,
                            'has-success': festeAmicForm.controls['provincia'].touched && festeAmicForm.controls['provincia'].valid
                        }">
                            <input formControlName="provincia" type="text" class="form-control" id="provincia" placeholder="Provincia"
                            [ngClass]="{'form-control-success': festeAmicForm.controls['provincia'].touched && festeAmicForm.controls['provincia'].valid,
                            'form-control-danger': festeAmicForm.controls['provincia'].touched && !festeAmicForm.controls['provincia'].valid}">
                        </div>
                    </div>
                    <div class="form-inline row">
                        <div class="form-group col-sm-6" [ngClass]="{
                            'has-danger':!festeAmicForm.controls['telefon'].valid && festeAmicForm.controls['telefon'].touched,
                            'has-success': festeAmicForm.controls['telefon'].touched && festeAmicForm.controls['telefon'].valid
                        }">
                            <input formControlName="telefon" type="number" class="form-control" id="telefon" placeholder="Teléfono"
                            [ngClass]="{'form-control-success': festeAmicForm.controls['telefon'].touched && festeAmicForm.controls['telefon'].valid,
                            'form-control-danger': festeAmicForm.controls['telefon'].touched && !festeAmicForm.controls['telefon'].valid}">
                        </div>
                        <div class="form-group col-sm-6" [ngClass]="{
                            'has-danger':!festeAmicForm.controls['data'].valid && festeAmicForm.controls['data'].touched,
                            'has-success': festeAmicForm.controls['data'].touched && festeAmicForm.controls['data'].valid
                        }">
                            <input formControlName="data" type="date" class="form-control" id="data" placeholder="data"
                            [ngClass]="{'form-control-success': festeAmicForm.controls['data'].touched && festeAmicForm.controls['data'].valid,
                            'form-control-danger': festeAmicForm.controls['data'].touched && !festeAmicForm.controls['data'].valid}">
                        </div>
                    </div>
                    <div class="form-group" [ngClass]="{
                        'has-danger':!festeAmicForm.controls['compte'].valid && festeAmicForm.controls['compte'].touched,
                        'has-success': festeAmicForm.controls['compte'].touched && festeAmicForm.controls['compte'].valid
                    }">
                        <p>Voy hacer la aportación de 1€ <strong>mensual</strong> mediante un pago trimestral. En caso de querer hacer una aportación mensual superior lo indicaré en el apartado de Comentarios.</p>
                        <p>Número de Cuenta IBAN:</p>
                        <input formControlName="compte" type="text" class="form-control" id="compte" placeholder="IBAN"
                        [ngClass]="{'form-control-success': festeAmicForm.controls['compte'].touched && festeAmicForm.controls['compte'].valid,
                        'form-control-danger': festeAmicForm.controls['compte'].touched && !festeAmicForm.controls['compte'].valid}">
                    </div>
                    <div class="form-group" [ngClass]="{
                        'has-danger':!festeAmicForm.controls['comentaris'].valid && festeAmicForm.controls['comentaris'].touched,
                        'has-success': festeAmicForm.controls['comentaris'].touched && festeAmicForm.controls['comentaris'].valid
                    }">
                        <textarea formControlName="comentaris" type="text" class="form-control" id="comentaris" placeholder="Comentarios" maxlength="250" rows="7"
                        [ngClass]="{'form-control-success': festeAmicForm.controls['comentaris'].touched && festeAmicForm.controls['comentaris'].valid,
                        'form-control-danger': festeAmicForm.controls['comentaris'].touched && !festeAmicForm.controls['comentaris'].valid}"></textarea>
                    </div>
                    <div class="form-group" style="display: none">
                        <input formControlName="fake" type="text" class="form-control" id="fake" style="display: none">
                    </div>
                    <button type="submit" class="btn btn-primary float-xs-right" [disabled]="!festeAmicForm.valid">Enviar</button>
                </form>
            </div>
            <div class="alert alert-success col-xs-6" role="alert" *ngIf="enviat">
              <strong>Mensaje enviado!</strong>
            </div>
            <div class="alert alert-danger col-xs-6" role="alert" *ngIf="error">
              <strong>El mensaje no se ha podido enviar.</strong> Por favor, vuelve a intentarlo.
            </div>
            <div class="row col-xxs-11" style="margin-top: 30px; margin-bottom: 15px;">
                <strong>O bien podrá hacerlo utilitzando el formulario en PDF (<a href="../../pdf/Amics_CAT.pdf" target="_blank"><strong>Versión en Catalan</strong></a> - <a href="../../pdf/Amics_ESP.pdf" target="_blank"><strong>Versión en Castellano</strong></a>) i enviarlo a este correo electronico:</strong>

                <a href="mailto:caminsongweb@gmail.com">caminsongweb@gmail.com</a>
                <i>
                    (Si tenies problemas para abrir o enviar el formulario, puede descargar
                     <a href="http://get.adobe.com/es/reader/">AQUÍ</a> gratuitamente la última versión del programa)
                </i>
            </div>
        </section>
    </main>
</default-page>
